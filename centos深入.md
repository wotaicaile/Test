#深入探究Linux内核>Linux系统的核心是内核。内核控制着计算机系统上的所有硬件和软件，在必要时分配硬件，并根据需要执行软件。##1.1.1内核主要负责以下四种功能：* 系统内存管理* 软件程序管理* 硬件设备管理* 文件系统管理###1. 系统内存管理* 操作系统内核的主要功能之一就是**内存管理**。  * 内核不仅管理服务器上的**可用物理内存**，还可以创建和管理**虚拟内存**（即实际并不存在的内存）。  * 内核通过硬盘上的存储空间来实现虚拟内存，这块区域称为**交换空间（swap space）**。  * 内核不断地在**交换空间**和**实际的物理内存**之间反复**交换虚拟内存**中的内容。这使得系统以为它拥有比物理内存更多的可用内存。* 内存存储单元按组划分成很多块，这些块称作**页面（page）**。  * 内核将每个内存页面放在物理内存或交换空间。然后，内核会维护一个内存页面表，指明哪些页面位于物理内存内，哪些页面被换到了磁盘上。###2.  软件程序管理* 内核控制着Linux系统如何**管理**运行在系统上的**所有进程*** 内核**创建**了**第一个进程**（称为**init进程**）来启动系统上所有其他进程。当内核**启动**时，它会**将init进程加载到虚拟内存**中。  * 内核在启动任何其他进程时，都会在虚拟内存中给新进程分配一块专有区域来存储该进程用到的数据和代码。  * Linux操作系统的init系统采用了**运行级 （run level）**  * Linux操作系统有**5个启动运行级**  >1. **运行级为1时**，只启动基本的系统进程以及一个控制台终端进程。我们称之为单用户模式。单用户模式通常用来在系统有问题时进行紧急的文件系统维护。显然，在这种模式下，仅有一个人（通常是系统管理员）能登录到系统上操作数据。2. **标准的启动运行级是3**。在这个运行级上，大多数应用软件，比如网络支持程序，都会启动。  3. **另一个Linux中常见的运行级是5**。在这个运行级上系统会启动图形化的X Window系统，允许用户通过图形化桌面窗口登录系统。  4. Linux系统可以通过调整启动运行级来控制整个系统的功能。通过**将运行级从3调整成5**，系统就可以从基于控制台的系统变成更先进的图形化X Window系统。###3. 硬件设备管理* 内核的另一职责是**管理硬件设备**。任何Linux系统需要与之通信的设备，都需要**在内核代码中加入其驱动程序代码**。**驱动程序代码**相当于应用程序和硬件设备的中间人，允许内核与设备之间交换数据。  * 在Linux内核中有两种方法用于插入设备驱动代码：>*  编译进内核的设备驱动代码* 可插入内核的设备驱动模块  开发人员提出了内核模块的概念。它允许将驱动代码插入到运行中的内核而无需重新编译内核。同时，当设备不再使用时也可将内核模块从内核中移走。  * Linux系统将硬件设备当成特殊的文件，称为**设备文件**设备文件有3种分类：  >* 字符型设备文件* 块设备文件* 网络设备文件    1. **字符型设备文件**是指处理数据时每次只能处理一个字符的设备,大多数类型的调制解调器和终端都是作为字符型设备文件创建的。  2. **块设备文件**是指处理数据时每次能处理大块数据的设备，比如硬盘。  3. **网络设备文件**是指采用数据包发送和接收数据的设备，包括各种网卡和一个特殊的回环设备。这个回环设备允许Linux系统使用常见的网络编程协议同自身通信。  Linux为系统上的每个设备都创建一种称为**节点**的特殊文件与设备的所有通信都通过设备节点完成。  >* 每个节点都有唯一的数值对供Linux内核标识它* 数值对包括一个主设备号和一个次设备号。类似的设备被划分到同样的主设备号下。次设备号用于标识主设备组下的某个特定设备  ###4. 文件系统管理不同于其他一些操作系统，Linux内核支持通过不同类型的文件系统从硬盘中读写数据。    除了自有的诸多文件系统外,Linux还支持从其他操作系统（比如Microsoft Windows）采用的文件系统中读写数据  内核必须在编译时就加入对所有可能用到的文件系统的支持  Linux内核采用虚拟文件系统（Virtual File System，VFS）作为和每个文件系统交互的接口。这为Linux内核同任何类型文件系统通信提供了一个标准接口。当每个文件系统都被挂载和使用时，VFS将信息都缓存在内存中##1.1.2GNU 工具  除了由内核控制硬件设备外，操作系统还需要工具来执行一些标准功能，比如控制文件和程序。###1. 核心GNU工具GNU项目的主旨在于为Unix系统管理员设计出一套类似于Unix的环境。这个目标促使该项目移植了很多常见的Unix系统命令行工具。  供Linux系统使用的这组核心工具被称为coreutils（coreutilities）软件包。 GNU coreutils软件包由三部分构成：  *  用以处理文件的工具* 用以操作文本的工具* 用以管理进程的工具###2. shell   GNU/Linux shell是一种特殊的交互式工具。它为用户提供了启动程序、管理文件系统中的文件以及运行在Linux系统上的进程的途径